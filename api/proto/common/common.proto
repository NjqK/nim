syntax = "proto3";
package common.common;

option java_multiple_files = false;
option java_package = "com.example.proto.common.common";
option java_outer_classname = "Common";

enum MsgType {
    MSG_TYPE_NUL = 0; // NULL
    HAND_SHAKE = 1; // æ¡æ‰‹
    HEART_BEAT = 2; // å¿ƒè·³
    KICK = 3; // æŠ¢å çº¿
    SINGLE_CHAT = 4; // å•èŠ
    // ...
}

enum MsgContentType {
    MSG_CONTENT_NUL = 0;
    TEXT = 1; // æ–‡æœ¬æ¶ˆæ¯
}

message Msg {
    Head head = 1;// æ¶ˆæ¯å¤´
    Body body = 2;// æ¶ˆæ¯ä½“
}

message Body {
    string content = 1;
}

message ExtraHeader {
    string key = 1;
    string value = 2;
}

message Head {
    string msg_id = 1;// æ¶ˆæ¯id
    MsgType msg_type = 2;// æ¶ˆæ¯ç±»å‹
    MsgContentType msg_content_type = 3;// æ¶ˆæ¯å†…å®¹ç±»å‹
    string from_id = 4;// æ¶ˆæ¯å‘é€è€…id
    string to_id = 5;// æ¶ˆæ¯æ¥æ”¶è€…id
    int64 timestamp = 6;// æ¶ˆæ¯æ—¶é—´æˆ³
    int32 status_report = 7;// çŠ¶æ€æŠ¥å‘Š
    repeated ExtraHeader extend = 8;// æ‰©å±•å­—æ®µï¼Œä»¥key/valueå½¢å¼å­˜æ”¾çš„json
}

// é”™è¯¯ç 
enum ErrCode {
    ERRORCODE_NULL = 0;
    // æˆåŠŸ
    SUCCESS = 1;
    // å¤±è´¥
    FAIL = -1;
    // å•å‘ç”¨æˆ·ğŸ†”idç©º
    SEND_MSG_INDIVIDUALLY_TO_UID_NUL = 101;
    // å•å‘ç”¨æˆ·ğŸ†”idç©º
    SEND_MSG_INDIVIDUALLY_MSG_NUL = 102;
    // å‘é€è€…idç©º
    SEND_MSG_INDIVIDUALLY_FROM_ID_NUL = 103;
}

message ErrorMsg {
    // é”™è¯¯ç 
    ErrCode error_code = 1;
    // é”™è¯¯ä¿¡æ¯
    string msg = 2;
}